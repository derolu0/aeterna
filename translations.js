// ==========================================
// FILE TRADUZIONI - AETERNA LEXICON IN MOTU
// VERSIONE AGGIORNATA CON ANALISI COMPARATIVA
// ==========================================

window.translations = {
    'it': {
        // === TRADUZIONI ESISTENTI (INTATTE) ===
        'home_title': 'Aeterna Lexicon',
        'home_subtitle': "Dataset per l'analisi delle trasformazioni<br>del linguaggio filosofico tra classico e contemporaneo",
        'tab_home': 'Home',
        'tab_filosofi': 'Filosofi',
        'tab_opere': 'Opere',
        'tab_concetti': 'Concetti',
        'tab_mappa': 'Mappa',
        
        'screen_filosofi': 'Filosofi',
        'screen_opere': 'Opere',
        'screen_concetti': 'Concetti',
        'screen_mappa': 'Mappa Geografica',
        'screen_mappa_concettuale': 'Mappa Concettuale',
        'screen_admin': 'Pannello Admin',
        
        'subtitle_filosofi': 'Esplora i filosofi della storia',
        'subtitle_opere': 'Scopri le opere filosofiche',
        'subtitle_concetti': 'Analizza le parole chiave della filosofia',
        'subtitle_mappa': 'Visualizza filosofi sulla mappa',
        'subtitle_mappa_concettuale': 'Esplora relazioni tra idee',
        
        'search_placeholder_filosofi': 'üîç Cerca filosofi...',
        'search_placeholder_opere': 'üîç Cerca opere...',
        'search_placeholder_concetti': 'üîç Cerca concetti...',
        'map_search_placeholder': 'üîç Cerca filosofo o luogo...',
        'concetto_search_placeholder': 'üîç Cerca concetto (es: Verit√†, Potere...)',
        
        'filter_all': 'Tutti',
        'filter_classic': 'Classici',
        'filter_contemporary': 'Contemporanei',
        'filter_other': 'Altri Periodi',
        'filter_ontology': 'Ontologia',
        'filter_ethics': 'Etica',
        'filter_politics': 'Politica',
        'filter_epistemology': 'Gnoseologia',
        
        'legend_title': 'Legenda',
        'legend_item_filosofo_classico': 'Filosofo Classico',
        'legend_item_filosofo_contemporaneo': 'Filosofo Contemporaneo',
        'legend_item_position': 'La tua posizione',
        'legend_item_filosofo': 'Filosofo',
        'legend_item_concetto': 'Concetto',
        'legend_relation_classic': 'Relazione Classica',
        'legend_relation_contemporary': 'Relazione Contemporanea',
        
        'report_btn': 'Segnala Errore',
        'info_btn': 'Info & Crediti',
        'admin_btn': 'Area Riservata',
        'navigate_btn': 'Naviga Verso',
        'details_btn': 'Dettagli',
        'switch_lang_label': 'Switch to English',
        'back_btn': 'Indietro',
        'close_btn': 'Chiudi',
        'save_btn': 'Salva',
        'cancel_btn': 'Annulla',
        'delete_btn': 'Elimina',
        'edit_btn': 'Modifica',
        'add_btn': 'Aggiungi',
        
        'status_classic': 'Classico',
        'status_contemporary': 'Contemporaneo',
        'status_medieval': 'Medioevale',
        'status_renaissance': 'Rinascimentale',
        'status_modern': 'Moderno',
        
        'period_classical': 'Antico/Classico',
        'period_medieval': 'Medioevo',
        'period_renaissance': 'Rinascimento',
        'period_modern': 'Et√† Moderna',
        'period_contemporary': 'Contemporaneo',
        
        'label_name': 'Nome',
        'label_full_name': 'Nome Completo',
        'label_period': 'Periodo',
        'label_school': 'Scuola/Corrente',
        'label_years': 'Anni (Nascita-Morte)',
        'label_birth_place': 'Luogo di Nascita',
        'label_birth_date': 'Data di Nascita',
        'label_death_date': 'Data di Morte',
        'label_biography': 'Biografia',
        'label_main_concepts': 'Concetti Principali',
        'label_portrait': 'Ritratto',
        
        'label_work_title': 'Titolo Opera',
        'label_author': 'Autore',
        'label_publication_year': 'Anno Pubblicazione',
        'label_historical_period': 'Periodo Storico',
        'label_summary': 'Sintesi/Abstract',
        'label_language': 'Lingua Originale',
        'label_pdf_url': 'PDF/Testo Completo',
        'label_concepts_treated': 'Concetti Trattati',
        
        'label_concept': 'Concetto',
        'label_keyword': 'Parola Chiave',
        'label_definition': 'Definizione',
        'label_example': 'Citazione/Estratto',
        'label_reference_author': 'Autore Riferimento',
        'label_reference_work': 'Opera di Riferimento',
        'label_historical_evolution': 'Evoluzione Storica',
        'label_bibliography': 'Bibliografia',
        
        'admin_dashboard': 'Dashboard',
        'admin_filosofi': 'Filosofi',
        'admin_opere': 'Opere',
        'admin_concetti': 'Concetti',
        'admin_analytics': 'Analytics',
        'admin_config': 'Configurazione',
        
        'admin_import': 'Importa',
        'admin_export': 'Esporta',
        'admin_template': 'Template',
        'admin_add_edit': 'Aggiungi/Modifica',
        'admin_delete_selected': 'Elimina Selezionati',
        
        'admin_total_filosofi': 'Filosofi Totali',
        'admin_total_opere': 'Opere Totali',
        'admin_total_concetti': 'Concetti Totali',
        'admin_classic_count': 'Classici',
        'admin_contemporary_count': 'Contemporanei',
        'admin_other_count': 'Altri',
        'admin_recent_activity': 'Attivit√† Recenti',
        'admin_clear_log': 'Pulisci Log',
        
        'analytics_today_sessions': 'Sessioni Oggi',
        'analytics_today_events': 'Eventi Oggi',
        'analytics_pageviews': 'Page Views',
        'analytics_today_errors': 'Errori Oggi',
        'analytics_user_activity': 'Attivit√† Utenti (Ultimi 7 giorni)',
        'analytics_system_status': 'Stato Sistema',
        'analytics_active': 'Analytics Attivo',
        'analytics_inactive': 'Analytics Disattivo',
        'analytics_storage_used': 'Storage Utilizzato',
        'analytics_stored_events': 'Eventi archiviati',
        'analytics_stored_errors': 'Errori archiviati',
        'analytics_total_storage': 'Storage totale',
        'analytics_recent_errors': 'Errori Recenti',
        'analytics_frequent_events': 'Eventi Pi√π Frequenti',
        'analytics_actions': 'Azioni Analytics',
        'analytics_refresh': 'Aggiorna Dashboard',
        'analytics_export': 'Esporta Dati',
        'analytics_toggle': 'Attiva/Disattiva',
        'analytics_reset': 'Resetta Dati',
        'analytics_sync_status': 'Stato Sincronizzazione',
        'analytics_synced': 'Sincronizzato',
        'analytics_pending_events': 'Eventi in coda',
        'analytics_last_send': 'Ultimo invio',
        'analytics_force_sync': 'Forza Sincronizzazione',
        'analytics_clear_errors': 'Pulisci Errori',
        'analytics_debug': 'Debug & Test',
        'analytics_test_event': 'Test Evento',
        'analytics_test_error': 'Test Errore',
        'analytics_test_performance': 'Test Performance',
        
        'metric_page_load': 'Tempo medio caricamento pagine',
        'metric_image_load': 'Tempo medio caricamento immagini',
        'metric_data_load': 'Tempo medio caricamento dati',
        
        'map_show_classical': 'Mostra Classici',
        'map_show_contemporary': 'Mostra Contemporanei',
        'map_show_all': 'Mostra Tutti',
        'map_center_on_me': 'Centra su di me',
        'map_zoom_in': 'Zoom In',
        'map_zoom_out': 'Zoom Out',
        
        'concept_map_filter_all': 'Tutti i Concetti',
        'concept_map_filter_classic': 'Periodo Classico',
        'concept_map_filter_contemporary': 'Periodo Contemporaneo',
        'concept_map_zoom_in': 'Ingrandisci',
        'concept_map_zoom_out': 'Riduci',
        'concept_map_reset_view': 'Reset Vista',
        
        'btn_qr': 'Condividi App',
        'qr_title': 'Scarica Aeterna Lexicon',
        'qr_subtitle': 'Inquadra il codice con la fotocamera per installare il dataset filosofico.',
        'btn_close': 'Chiudi',
        
        'install_title': 'Installa Aeterna Lexicon',
        'install_subtitle': 'Per dataset offline e analisi avanzate',
        'install_btn': 'Installa',
        
        'error_loading': 'Errore nel caricamento',
        'error_no_data': 'Nessun dato disponibile',
        'error_offline': 'Connessione assente',
        'error_retry': 'Riprova',
        'error_no_results': 'Nessun risultato trovato',
        
        'success_saved': 'Salvato con successo',
        'success_deleted': 'Eliminato con successo',
        'success_imported': 'Importato con successo',
        'success_exported': 'Esportato con successo',
        
        'confirm_delete': 'Sei sicuro di voler eliminare?',
        'confirm_reset': 'Sei sicuro di voler resettare?',
        
        'empty_filosofi': 'Nessun filosofo disponibile',
        'empty_opere': 'Nessuna opera disponibile',
        'empty_concetti': 'Nessun concetto disponibile',
        'empty_search': 'Nessun risultato per la ricerca',
        
        'loading_filosofi': 'Caricamento filosofi in corso...',
        'loading_opere': 'Caricamento opere in corso...',
        'loading_concetti': 'Caricamento concetti in corso...',
        'loading_map': 'Caricamento mappa in corso...',
        'loading_concept_map': 'Caricamento mappa concettuale...',
        'loading_details': 'Caricamento dettagli...',
        
        'credits_title': 'Info & Crediti',
        'credits_version': 'v. 2.0.0',
        'credits_project': 'PROJECT WORK',
        'credits_project_desc': 'Realizzazione di un dataset per l\'interpretazione dei testi filosofici',
        'credits_developer': 'Sviluppo Software & Dataset',
        'credits_data_analysis': 'Analisi Dati & Ricerca',
        'credits_supervision': 'Supervisione Accademica',
        'credits_technologies': 'Technologies & Services',
        'credits_license': 'Licenza d\'uso accademica',
        'credits_copyright': 'Software ¬© 2026 Salvatore De Rosa',
        
        'maintenance_title': 'Manutenzione in Corso',
        'maintenance_message': 'Stiamo aggiornando il dataset filosofico. Torneremo online a breve.',
        'maintenance_admin': 'Area Riservata',
        
        'auth_title': 'Accesso Amministratore',
        'auth_email': 'Email',
        'auth_password': 'Password',
        'auth_login': 'Accedi',
        'auth_cancel': 'Annulla',
        'auth_error': 'Credenziali non valide',

        // === NUOVE TRADUZIONI PER ANALISI COMPARATIVA (AGGIUNTE) ===
        'analisi_comparativa': 'Analisi Comparativa',
        'analisi_in_corso': 'Analisi in corso...',
        'timeline_evolutiva': 'Timeline Evolutiva',
        'confronto_periodi': 'Confronto Periodi Storici',
        'classico_vs_contemporaneo': 'Classico vs Contemporaneo',
        'evoluzione_terminologica': 'Evoluzione Terminologica',
        'trasformazioni_identificate': 'Trasformazioni Identificate',
        'esporta_analisi': 'Esporta Analisi',
        'avvia_analisi': 'Avvia Analisi Comparativa',
        'termini_correlati': 'Termini Correlati',
        'frequenza_uso': 'Frequenza d\'uso',
        'contesto_duso': 'Contesto d\'uso',
        
        'modale_titolo_analisi': 'Analisi Comparativa: ',
        'modale_sottotitolo': 'Confronto tra interpretazioni classiche e contemporanee',
        'colonna_classica': 'Interpretazione Classica',
        'colonna_contemporanea': 'Rilettura Contemporanea',
        'timeline_linguistica': 'Timeline Linguistica',
        'tabella_trasformazioni': 'Tabella delle Trasformazioni',
        
        'badge_nuova_analisi': 'NUOVA ANALISI',
        'badge_evoluzione': 'EVOLUZIONE',
        'badge_comparativo': 'COMPARATIVO',
        
        'metriche_analisi': 'Metriche Analisi',
        'metrica_occ_classiche': 'Occorrenze Classiche',
        'metrica_occ_contemporanee': 'Occorrenze Contemporanee',
        'metrica_variazione': 'Variazione Semantica',
        'metrica_correlazioni': 'Correlazioni Identificate',
        'metrica_intensita': 'Intensit√† d\'uso',
        'metrica_contesti': 'Contesti Diversi',
        
        'testo_originale': 'Testo Originale',
        'traduzione': 'Traduzione',
        'anno_riferimento': 'Anno Riferimento',
        'autore_riferimento': 'Autore Riferimento',
        'opera_riferimento': 'Opera di Riferimento',
        
        'evoluzione_linguistica': 'Evoluzione Linguistica',
        'greco_antico': 'Greco Antico',
        'latino': 'Latino',
        'volgare': 'Volgare',
        'tedesco': 'Tedesco',
        'francese': 'Francese',
        'italiano': 'Italiano',
        
        'dimensione_ontologica': 'Dimensione Ontologica',
        'dimensione_epistemica': 'Dimensione Epistemica',
        'dimensione_etica': 'Dimensione Etica',
        'dimensione_politica': 'Dimensione Politica',
        
        'continuita_identificate': 'Continuit√† Identificate',
        'rotture_identificate': 'Rotture Identificate',
        'trasformazione_semantica': 'Trasformazione Semantica',
        'trasformazione_contestuale': 'Trasformazione Contestuale',
        
        'pulsante_confronta': 'Confronta con altro termine',
        'pulsante_espandi': 'Espandi Analisi',
        'pulsante_riduci': 'Riduci Analisi',
        'pulsante_stampa': 'Stampa Analisi',
        'pulsante_condividi': 'Condividi Analisi',
        
        'tooltip_analisi': 'Clicca per analisi comparativa',
        'tooltip_timeline': 'Visualizza timeline evolutiva',
        'tooltip_metriche': 'Mostra metriche quantitative',
        'tooltip_esporta': 'Esporta dati analisi',
        
        'modalita_analisi_semplice': 'Modalit√† Analisi Semplice',
        'modalita_analisi_avanzata': 'Modalit√† Analisi Avanzata',
        'filtro_per_contesto': 'Filtro per Contesto',
        'filtro_per_autore': 'Filtro per Autore',
        'filtro_per_secolo': 'Filtro per Secolo',
        
        'nessuna_analisi_disponibile': 'Nessuna analisi disponibile',
        'caricamento_analisi': 'Caricamento analisi...',
        'analisi_completata': 'Analisi completata',
        'analisi_fallita': 'Analisi fallita',
        
        'istruzioni_analisi': 'Seleziona un termine per avviare l\'analisi comparativa',
        'esempio_analisi': 'Esempio: confronta "Verit√†" tra Platone e Foucault'
    },
   
    'en': {
        // === EXISTING TRANSLATIONS (UNTOUCHED) ===
        'home_title': 'Aeterna Lexicon',
        'home_subtitle': 'Dataset for analyzing philosophical language transformations<br>between classical and contemporary thought',
        'tab_home': 'Home',
        'tab_filosofi': 'Philosophers',
        'tab_opere': 'Works',
        'tab_concetti': 'Concepts',
        'tab_mappa': 'Map',
        
        'screen_filosofi': 'Philosophers',
        'screen_opere': 'Works',
        'screen_concetti': 'Concepts',
        'screen_mappa': 'Geographic Map',
        'screen_mappa_concettuale': 'Conceptual Map',
        'screen_admin': 'Admin Panel',
        
        'subtitle_filosofi': 'Explore philosophers through history',
        'subtitle_opere': 'Discover philosophical works',
        'subtitle_concetti': 'Analyze key philosophical concepts',
        'subtitle_mappa': 'View philosophers on the map',
        'subtitle_mappa_concettuale': 'Explore relationships between ideas',
        
        'search_placeholder_filosofi': 'üîç Search philosophers...',
        'search_placeholder_opere': 'üîç Search works...',
        'search_placeholder_concetti': 'üîç Search concepts...',
        'map_search_placeholder': 'üîç Search philosopher or location...',
        'concetto_search_placeholder': 'üîç Search concept (e.g.: Truth, Power...)',
        
        'filter_all': 'All',
        'filter_classic': 'Classical',
        'filter_contemporary': 'Contemporary',
        'filter_other': 'Other Periods',
        'filter_ontology': 'Ontology',
        'filter_ethics': 'Ethics',
        'filter_politics': 'Politics',
        'filter_epistemology': 'Epistemology',
        
        'legend_title': 'Legend',
        'legend_item_filosofo_classico': 'Classical Philosopher',
        'legend_item_filosofo_contemporaneo': 'Contemporary Philosopher',
        'legend_item_position': 'Your Position',
        'legend_item_filosofo': 'Philosopher',
        'legend_item_concetto': 'Concept',
        'legend_relation_classic': 'Classical Relation',
        'legend_relation_contemporary': 'Contemporary Relation',
        
        'report_btn': 'Report Error',
        'info_btn': 'Info & Credits',
        'admin_btn': 'Restricted Area',
        'navigate_btn': 'Navigate To',
        'details_btn': 'Details',
        'switch_lang_label': 'Passa a Italiano',
        'back_btn': 'Back',
        'close_btn': 'Close',
        'save_btn': 'Save',
        'cancel_btn': 'Cancel',
        'delete_btn': 'Delete',
        'edit_btn': 'Edit',
        'add_btn': 'Add',
        
        'status_classic': 'Classical',
        'status_contemporary': 'Contemporary',
        'status_medieval': 'Medieval',
        'status_renaissance': 'Renaissance',
        'status_modern': 'Modern',
        
        'period_classical': 'Ancient/Classical',
        'period_medieval': 'Middle Ages',
        'period_renaissance': 'Renaissance',
        'period_modern': 'Modern Age',
        'period_contemporary': 'Contemporary',
        
        'label_name': 'Name',
        'label_full_name': 'Full Name',
        'label_period': 'Period',
        'label_school': 'School/Tradition',
        'label_years': 'Years (Birth-Death)',
        'label_birth_place': 'Birth Place',
        'label_birth_date': 'Birth Date',
        'label_death_date': 'Death Date',
        'label_biography': 'Biography',
        'label_main_concepts': 'Main Concepts',
        'label_portrait': 'Portrait',
        
        'label_work_title': 'Work Title',
        'label_author': 'Author',
        'label_publication_year': 'Publication Year',
        'label_historical_period': 'Historical Period',
        'label_summary': 'Summary/Abstract',
        'label_language': 'Original Language',
        'label_pdf_url': 'PDF/Full Text',
        'label_concepts_treated': 'Concepts Treated',
        
        'label_concept': 'Concept',
        'label_keyword': 'Keyword',
        'label_definition': 'Definition',
        'label_example': 'Quote/Excerpt',
        'label_reference_author': 'Reference Author',
        'label_reference_work': 'Reference Work',
        'label_historical_evolution': 'Historical Evolution',
        'label_bibliography': 'Bibliography',
        
        'admin_dashboard': 'Dashboard',
        'admin_filosofi': 'Philosophers',
        'admin_opere': 'Works',
        'admin_concetti': 'Concepts',
        'admin_analytics': 'Analytics',
        'admin_config': 'Configuration',
        
        'admin_import': 'Import',
        'admin_export': 'Export',
        'admin_template': 'Template',
        'admin_add_edit': 'Add/Edit',
        'admin_delete_selected': 'Delete Selected',
        
        'admin_total_filosofi': 'Total Philosophers',
        'admin_total_opere': 'Total Works',
        'admin_total_concetti': 'Total Concepts',
        'admin_classic_count': 'Classical',
        'admin_contemporary_count': 'Contemporary',
        'admin_other_count': 'Others',
        'admin_recent_activity': 'Recent Activity',
        'admin_clear_log': 'Clear Log',
        
        'analytics_today_sessions': 'Today Sessions',
        'analytics_today_events': 'Today Events',
        'analytics_pageviews': 'Page Views',
        'analytics_today_errors': 'Today Errors',
        'analytics_user_activity': 'User Activity (Last 7 days)',
        'analytics_system_status': 'System Status',
        'analytics_active': 'Analytics Active',
        'analytics_inactive': 'Analytics Inactive',
        'analytics_storage_used': 'Storage Used',
        'analytics_stored_events': 'Stored Events',
        'analytics_stored_errors': 'Stored Errors',
        'analytics_total_storage': 'Total Storage',
        'analytics_recent_errors': 'Recent Errors',
        'analytics_frequent_events': 'Most Frequent Events',
        'analytics_actions': 'Analytics Actions',
        'analytics_refresh': 'Refresh Dashboard',
        'analytics_export': 'Export Data',
        'analytics_toggle': 'Enable/Disable',
        'analytics_reset': 'Reset Data',
        'analytics_sync_status': 'Sync Status',
        'analytics_synced': 'Synced',
        'analytics_pending_events': 'Pending Events',
        'analytics_last_send': 'Last Send',
        'analytics_force_sync': 'Force Sync',
        'analytics_clear_errors': 'Clear Errors',
        'analytics_debug': 'Debug & Test',
        'analytics_test_event': 'Test Event',
        'analytics_test_error': 'Test Error',
        'analytics_test_performance': 'Test Performance',
        
        'metric_page_load': 'Average page load time',
        'metric_image_load': 'Average image load time',
        'metric_data_load': 'Average data load time',
        
        'map_show_classical': 'Show Classical',
        'map_show_contemporary': 'Show Contemporary',
        'map_show_all': 'Show All',
        'map_center_on_me': 'Center on Me',
        'map_zoom_in': 'Zoom In',
        'map_zoom_out': 'Zoom Out',
        
        'concept_map_filter_all': 'All Concepts',
        'concept_map_filter_classic': 'Classical Period',
        'concept_map_filter_contemporaneo': 'Contemporary Period',
        'concept_map_zoom_in': 'Zoom In',
        'concept_map_zoom_out': 'Zoom Out',
        'concept_map_reset_view': 'Reset View',
        
        'btn_qr': 'Share App',
        'qr_title': 'Get Aeterna Lexicon',
        'qr_subtitle': 'Scan this code with your camera to install the philosophical dataset.',
        'btn_close': 'Close',
        
        'install_title': 'Install Aeterna Lexicon',
        'install_subtitle': 'For offline dataset and advanced analysis',
        'install_btn': 'Install',
        
        'error_loading': 'Error loading',
        'error_no_data': 'No data available',
        'error_offline': 'No connection',
        'error_retry': 'Retry',
        'error_no_results': 'No results found',
        
        'success_saved': 'Successfully saved',
        'success_deleted': 'Successfully deleted',
        'success_imported': 'Successfully imported',
        'success_exported': 'Successfully exported',
        
        'confirm_delete': 'Are you sure you want to delete?',
        'confirm_reset': 'Are you sure you want to reset?',
        
        'empty_filosofi': 'No philosophers available',
        'empty_opere': 'No works available',
        'empty_concetti': 'No concepts available',
        'empty_search': 'No results for your search',
        
        'loading_filosofi': 'Loading philosophers...',
        'loading_opere': 'Loading works...',
        'loading_concetti': 'Loading concepts...',
        'loading_map': 'Loading map...',
        'loading_concept_map': 'Loading conceptual map...',
        'loading_details': 'Loading details...',
        
        'credits_title': 'Info & Credits',
        'credits_version': 'v. 2.0.0',
        'credits_project': 'PROJECT WORK',
        'credits_project_desc': 'Creation of a dataset for the interpretation of philosophical texts',
        'credits_developer': 'Software Development & Dataset',
        'credits_data_analysis': 'Data Analysis & Research',
        'credits_supervision': 'Academic Supervision',
        'credits_technologies': 'Technologies & Services',
        'credits_license': 'Academic use license',
        'credits_copyright': 'Software ¬© 2026 Salvatore De Rosa',
        
        'maintenance_title': 'Maintenance in Progress',
        'maintenance_message': 'We are updating the philosophical dataset. We will be back online shortly.',
        'maintenance_admin': 'Restricted Area',
        
        'auth_title': 'Admin Access',
        'auth_email': 'Email',
        'auth_password': 'Password',
        'auth_login': 'Login',
        'auth_cancel': 'Cancel',
        'auth_error': 'Invalid credentials',

        // === NEW TRANSLATIONS FOR COMPARATIVE ANALYSIS (ADDED) ===
        'analisi_comparativa': 'Comparative Analysis',
        'analisi_in_corso': 'Analysis in progress...',
        'timeline_evolutiva': 'Evolution Timeline',
        'confronto_periodi': 'Historical Periods Comparison',
        'classico_vs_contemporaneo': 'Classical vs Contemporary',
        'evoluzione_terminologica': 'Terminological Evolution',
        'trasformazioni_identificate': 'Identified Transformations',
        'esporta_analisi': 'Export Analysis',
        'avvia_analisi': 'Start Comparative Analysis',
        'termini_correlati': 'Related Terms',
        'frequenza_uso': 'Usage Frequency',
        'contesto_duso': 'Usage Context',
        
        'modale_titolo_analisi': 'Comparative Analysis: ',
        'modale_sottotitolo': 'Comparison between classical and contemporary interpretations',
        'colonna_classica': 'Classical Interpretation',
        'colonna_contemporanea': 'Contemporary Reinterpretation',
        'timeline_linguistica': 'Linguistic Timeline',
        'tabella_trasformazioni': 'Transformations Table',
        
        'badge_nuova_analisi': 'NEW ANALYSIS',
        'badge_evoluzione': 'EVOLUTION',
        'badge_comparativo': 'COMPARATIVE',
        
        'metriche_analisi': 'Analysis Metrics',
        'metrica_occ_classiche': 'Classical Occurrences',
        'metrica_occ_contemporanee': 'Contemporary Occurrences',
        'metrica_variazione': 'Semantic Variation',
        'metrica_correlazioni': 'Identified Correlations',
        'metrica_intensita': 'Usage Intensity',
        'metrica_contesti': 'Different Contexts',
        
        'testo_originale': 'Original Text',
        'traduzione': 'Translation',
        'anno_riferimento': 'Reference Year',
        'autore_riferimento': 'Reference Author',
        'opera_riferimento': 'Reference Work',
        
        'evoluzione_linguistica': 'Linguistic Evolution',
        'greco_antico': 'Ancient Greek',
        'latino': 'Latin',
        'volgare': 'Vernacular',
        'tedesco': 'German',
        'francese': 'French',
        'italiano': 'Italian',
        
        'dimensione_ontologica': 'Ontological Dimension',
        'dimensione_epistemica': 'Epistemic Dimension',
        'dimensione_etica': 'Ethical Dimension',
        'dimensione_politica': 'Political Dimension',
        
        'continuita_identificate': 'Identified Continuities',
        'rotture_identificate': 'Identified Ruptures',
        'trasformazione_semantica': 'Semantic Transformation',
        'trasformazione_contestuale': 'Contextual Transformation',
        
        'pulsante_confronta': 'Compare with another term',
        'pulsante_espandi': 'Expand Analysis',
        'pulsante_riduci': 'Reduce Analysis',
        'pulsante_stampa': 'Print Analysis',
        'pulsante_condividi': 'Share Analysis',
        
        'tooltip_analisi': 'Click for comparative analysis',
        'tooltip_timeline': 'View evolutionary timeline',
        'tooltip_metriche': 'Show quantitative metrics',
        'tooltip_esporta': 'Export analysis data',
        
        'modalita_analisi_semplice': 'Simple Analysis Mode',
        'modalita_analisi_avanzata': 'Advanced Analysis Mode',
        'filtro_per_contesto': 'Filter by Context',
        'filtro_per_autore': 'Filter by Author',
        'filtro_per_secolo': 'Filter by Century',
        
        'nessuna_analisi_disponibile': 'No analysis available',
        'caricamento_analisi': 'Loading analysis...',
        'analisi_completata': 'Analysis completed',
        'analisi_fallita': 'Analysis failed',
        
        'istruzioni_analisi': 'Select a term to start comparative analysis',
        'esempio_analisi': 'Example: compare "Truth" between Plato and Foucault'
    }
};

// Funzione di utilit√† per la traduzione (UNTOUCHED)
window.i18n = function(key, lang = null) {
    const language = lang || localStorage.getItem('app_language') || 'it';
    const translation = window.translations[language];
    
    if (!translation) {
        console.warn(`Language ${language} not found`);
        return key;
    }
    
    return translation[key] || key;
};

// Funzione per tradurre tutta la pagina (UNTOUCHED)
window.translatePage = function(lang = null) {
    const language = lang || localStorage.getItem('app_language') || 'it';
    localStorage.setItem('app_language', language);
    
    // Aggiorna flag e label nel menu
    const flagElement = document.getElementById('lang-flag');
    const labelElement = document.getElementById('lang-label');
    
    if (flagElement && labelElement) {
        flagElement.textContent = language === 'it' ? 'üá¨üáß' : 'üáÆüáπ';
        labelElement.textContent = language === 'it' ? 'Switch to English' : 'Passa a Italiano';
    }
    
    // Traduci tutti gli elementi con data-i18n
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = window.i18n(key, language);
        
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = translation;
        } else if (element.tagName === 'IMG' && element.alt) {
            element.alt = translation;
        } else {
            element.textContent = translation;
        }
    });
    
    // Aggiorna titolo pagina dinamici
    const updateDynamicText = (elementId, key) => {
        const element = document.getElementById(elementId);
        if (element) {
            element.textContent = window.i18n(key, language);
        }
    };
    
    // Home page elements
    //updateDynamicText('home-title', 'home_title');
    //updateDynamicText('home-subtitle', 'home_subtitle');
    
    // Screen titles
    updateDynamicText('filosofi-title', 'screen_filosofi');
    updateDynamicText('filosofi-subtitle', 'subtitle_filosofi');
    updateDynamicText('opere-title', 'screen_opere');
    updateDynamicText('opere-subtitle', 'subtitle_opere');
    updateDynamicText('concetti-title', 'screen_concetti');
    updateDynamicText('concetti-subtitle', 'subtitle_concetti');
    updateDynamicText('map-title', 'screen_mappa');
    
    // Navigation buttons
    updateDynamicText('nav-filosofi', 'tab_filosofi');
    updateDynamicText('nav-opere', 'tab_opere');
    updateDynamicText('nav-concetti', 'tab_concetti');
    updateDynamicText('nav-map', 'tab_mappa');
    updateDynamicText('nav-btn-text', 'navigate_btn');
    
    // Search placeholders
    const searchInputs = document.querySelectorAll('.search-input');
    searchInputs.forEach((input, index) => {
        if (index === 0) input.placeholder = window.i18n('search_placeholder_filosofi', language);
        else if (index === 1) input.placeholder = window.i18n('search_placeholder_opere', language);
        else if (index === 2) input.placeholder = window.i18n('search_placeholder_concetti', language);
    });
    
    // Map search
    const mapSearch = document.getElementById('map-search-input');
    if (mapSearch) mapSearch.placeholder = window.i18n('map_search_placeholder', language);
    
    // Concept map search
    const conceptSearch = document.getElementById('search-concetto');
    if (conceptSearch) conceptSearch.placeholder = window.i18n('concetto_search_placeholder', language);
    
    // Filter buttons
    const filterButtons = document.querySelectorAll('.filter-btn');
    filterButtons.forEach((btn, index) => {
        const text = btn.querySelector('span:not(.fas)');
        if (text) {
            if (btn.classList.contains('all')) text.textContent = window.i18n('filter_all', language);
            else if (btn.classList.contains('funzionante')) text.textContent = window.i18n('filter_classic', language);
            else if (btn.classList.contains('non-funzionante')) text.textContent = window.i18n('filter_contemporary', language);
            else if (btn.classList.contains('manutenzione')) text.textContent = window.i18n('filter_other', language);
        }
    });
    
    // Legend items
    updateDynamicText('legend-title', 'legend_title');
    updateDynamicText('legend-filosofo-classico', 'legend_item_filosofo_classico');
    updateDynamicText('legend-filosofo-contemporaneo', 'legend_item_filosofo_contemporaneo');
    updateDynamicText('legend-pos', 'legend_item_position');
    
    // Toast messages (se presenti)
    if (window.lastToastMessage) {
        showToast(window.lastToastMessage, window.lastToastType);
    }
    
    // Analytics dashboard (se aperta)
    if (window.Analytics && document.getElementById('analytics-admin').classList.contains('active')) {
        setTimeout(() => {
            if (typeof refreshAnalyticsDashboard === 'function') {
                refreshAnalyticsDashboard();
            }
        }, 100);
    }
    
    // Traccia cambio lingua
    if (window.Analytics) {
        window.Analytics.trackEvent('app', 'language_changed', language, null, {
            previous_language: window.previousLanguage || 'it',
            new_language: language
        });
        window.previousLanguage = language;
    }
    
    console.log(`Page translated to ${language}`);
};

// Inizializza traduzioni al caricamento (UNTOUCHED)
document.addEventListener('DOMContentLoaded', function() {
    // Carica lingua salvata o usa italiano di default
    const savedLang = localStorage.getItem('app_language') || 'it';
    setTimeout(() => {
        window.translatePage(savedLang);
    }, 500);
    
    // Aggiungi listener per cambio lingua
    const langSwitchBtn = document.querySelector('.lang-switch');
    if (langSwitchBtn) {
        langSwitchBtn.addEventListener('click', function() {
            const currentLang = localStorage.getItem('app_language') || 'it';
            const newLang = currentLang === 'it' ? 'en' : 'it';
            window.translatePage(newLang);
            
            // Chiudi menu se aperto
            const menuModal = document.getElementById('top-menu-modal');
            if (menuModal && menuModal.style.display === 'flex') {
                toggleMenuModal();
            }
        });
    }
});

// Helper per tradurre testo in tempo reale (UNTOUCHED)
window.__ = function(key) {
    return window.i18n(key);
};

// Esporta funzioni per uso globale (UNTOUCHED)
window.toggleLanguage = function() {
    const currentLang = localStorage.getItem('app_language') || 'it';
    const newLang = currentLang === 'it' ? 'en' : 'it';
    window.translatePage(newLang);
};